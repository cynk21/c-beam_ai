{"version":3,"file":"_page.svelte.js","sources":["../../../../../../../src/lib/components/notes/Notes.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\n\timport jsPDF from 'jspdf';\n\timport html2canvas from 'html2canvas-pro';\n\n\timport dayjs from '$lib/dayjs';\n\timport duration from 'dayjs/plugin/duration';\n\timport relativeTime from 'dayjs/plugin/relativeTime';\n\n\tdayjs.extend(duration);\n\tdayjs.extend(relativeTime);\n\n\tasync function loadLocale(locales) {\n\t\tfor (const locale of locales) {\n\t\t\ttry {\n\t\t\t\tdayjs.locale(locale);\n\t\t\t\tbreak; // Stop after successfully loading the first available locale\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(`Could not load locale '${locale}':`, error);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Assuming $i18n.languages is an array of language codes\n\t$: loadLocale($i18n.languages);\n\n\timport { goto } from '$app/navigation';\n\timport { onMount, getContext, onDestroy } from 'svelte';\n\timport { WEBUI_NAME, config, prompts as _prompts, user } from '$lib/stores';\n\n\timport { createNewNote, deleteNoteById, getNotes } from '$lib/apis/notes';\n\timport { capitalizeFirstLetter } from '$lib/utils';\n\n\timport EllipsisHorizontal from '../icons/EllipsisHorizontal.svelte';\n\timport DeleteConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport Search from '../icons/Search.svelte';\n\timport Plus from '../icons/Plus.svelte';\n\timport ChevronRight from '../icons/ChevronRight.svelte';\n\timport Spinner from '../common/Spinner.svelte';\n\timport Tooltip from '../common/Tooltip.svelte';\n\timport NoteMenu from './Notes/NoteMenu.svelte';\n\timport FilesOverlay from '../chat/MessageInput/FilesOverlay.svelte';\n\timport { marked } from 'marked';\n\n\tconst i18n = getContext('i18n');\n\tlet loaded = false;\n\n\tlet importFiles = '';\n\tlet query = '';\n\n\tlet notes = [];\n\tlet selectedNote = null;\n\n\tlet showDeleteConfirm = false;\n\n\tconst init = async () => {\n\t\tnotes = await getNotes(localStorage.token);\n\t};\n\n\tconst createNoteHandler = async () => {\n\t\tconst res = await createNewNote(localStorage.token, {\n\t\t\ttitle: $i18n.t('New Note'),\n\t\t\tdata: {\n\t\t\t\tcontent: {\n\t\t\t\t\tjson: null,\n\t\t\t\t\thtml: '',\n\t\t\t\t\tmd: ''\n\t\t\t\t}\n\t\t\t},\n\t\t\tmeta: null,\n\t\t\taccess_control: null\n\t\t}).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tgoto(`/notes/${res.id}`);\n\t\t}\n\t};\n\n\tconst downloadHandler = async (type) => {\n\t\tconsole.log('downloadHandler', type);\n\t\tconsole.log('selectedNote', selectedNote);\n\t\tif (type === 'md') {\n\t\t\tconst blob = new Blob([selectedNote.data.content.md], { type: 'text/markdown' });\n\t\t\tsaveAs(blob, `${selectedNote.title}.md`);\n\t\t} else if (type === 'pdf') {\n\t\t\tawait downloadPdf(selectedNote);\n\t\t}\n\t};\n\n\tconst downloadPdf = async (note) => {\n\t\ttry {\n\t\t\t// Define a fixed virtual screen size\n\t\t\tconst virtualWidth = 1024; // Fixed width (adjust as needed)\n\t\t\tconst virtualHeight = 1400; // Fixed height (adjust as needed)\n\n\t\t\t// STEP 1. Get a DOM node to render\n\t\t\tconst html = note.data?.content?.html ?? '';\n\t\t\tlet node;\n\t\t\tif (html instanceof HTMLElement) {\n\t\t\t\tnode = html;\n\t\t\t} else {\n\t\t\t\t// If it's HTML string, render to a temporary hidden element\n\t\t\t\tnode = document.createElement('div');\n\t\t\t\tnode.innerHTML = html;\n\t\t\t\tdocument.body.appendChild(node);\n\t\t\t}\n\n\t\t\t// Render to canvas with predefined width\n\t\t\tconst canvas = await html2canvas(node, {\n\t\t\t\tuseCORS: true,\n\t\t\t\tscale: 2, // Keep at 1x to avoid unexpected enlargements\n\t\t\t\twidth: virtualWidth, // Set fixed virtual screen width\n\t\t\t\twindowWidth: virtualWidth, // Ensure consistent rendering\n\t\t\t\twindowHeight: virtualHeight\n\t\t\t});\n\n\t\t\t// Remove hidden node if needed\n\t\t\tif (!(html instanceof HTMLElement)) {\n\t\t\t\tdocument.body.removeChild(node);\n\t\t\t}\n\n\t\t\tconst imgData = canvas.toDataURL('image/png');\n\n\t\t\t// A4 page settings\n\t\t\tconst pdf = new jsPDF('p', 'mm', 'a4');\n\t\t\tconst imgWidth = 210; // A4 width in mm\n\t\t\tconst pageHeight = 297; // A4 height in mm\n\n\t\t\t// Maintain aspect ratio\n\t\t\tconst imgHeight = (canvas.height * imgWidth) / canvas.width;\n\t\t\tlet heightLeft = imgHeight;\n\t\t\tlet position = 0;\n\n\t\t\tpdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n\t\t\theightLeft -= pageHeight;\n\n\t\t\t// Handle additional pages\n\t\t\twhile (heightLeft > 0) {\n\t\t\t\tposition -= pageHeight;\n\t\t\t\tpdf.addPage();\n\n\t\t\t\tpdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n\t\t\t\theightLeft -= pageHeight;\n\t\t\t}\n\n\t\t\tpdf.save(`${note.title}.pdf`);\n\t\t} catch (error) {\n\t\t\tconsole.error('Error generating PDF', error);\n\n\t\t\ttoast.error(`${error}`);\n\t\t}\n\t};\n\n\tconst deleteNoteHandler = async (id) => {\n\t\tconst res = await deleteNoteById(localStorage.token, id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tinit();\n\t\t}\n\t};\n\n\tconst inputFilesHandler = async (inputFiles) => {\n\t\t// Check if all the file is a markdown file and extract name and content\n\n\t\tfor (const file of inputFiles) {\n\t\t\tif (file.type !== 'text/markdown') {\n\t\t\t\ttoast.error($i18n.t('Only markdown files are allowed'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = async (event) => {\n\t\t\t\tconst content = event.target.result;\n\t\t\t\tlet name = file.name.replace(/\\.md$/, '');\n\n\t\t\t\tif (typeof content !== 'string') {\n\t\t\t\t\ttoast.error($i18n.t('Invalid file content'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Create a new note with the content\n\t\t\t\tconst res = await createNewNote(localStorage.token, {\n\t\t\t\t\ttitle: name,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\tjson: null,\n\t\t\t\t\t\t\thtml: marked.parse(content ?? ''),\n\t\t\t\t\t\t\tmd: content\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmeta: null,\n\t\t\t\t\taccess_control: null\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\treturn null;\n\t\t\t\t});\n\n\t\t\t\tif (res) {\n\t\t\t\t\tinit();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treader.readAsText(file);\n\t\t}\n\t};\n\n\tlet dragged = false;\n\n\tconst onDragOver = (e) => {\n\t\te.preventDefault();\n\n\t\t// Check if a file is being dragged.\n\t\tif (e.dataTransfer?.types?.includes('Files')) {\n\t\t\tdragged = true;\n\t\t} else {\n\t\t\tdragged = false;\n\t\t}\n\t};\n\n\tconst onDragLeave = () => {\n\t\tdragged = false;\n\t};\n\n\tconst onDrop = async (e) => {\n\t\te.preventDefault();\n\t\tconsole.log(e);\n\n\t\tif (e.dataTransfer?.files) {\n\t\t\tconst inputFiles = Array.from(e.dataTransfer?.files);\n\t\t\tif (inputFiles && inputFiles.length > 0) {\n\t\t\t\tconsole.log(inputFiles);\n\t\t\t\tinputFilesHandler(inputFiles);\n\t\t\t}\n\t\t}\n\n\t\tdragged = false;\n\t};\n\n\tonDestroy(() => {\n\t\tconsole.log('destroy');\n\t\tconst dropzoneElement = document.getElementById('notes-container');\n\n\t\tif (dropzoneElement) {\n\t\t\tdropzoneElement?.removeEventListener('dragover', onDragOver);\n\t\t\tdropzoneElement?.removeEventListener('drop', onDrop);\n\t\t\tdropzoneElement?.removeEventListener('dragleave', onDragLeave);\n\t\t}\n\t});\n\n\tonMount(async () => {\n\t\tawait init();\n\t\tloaded = true;\n\n\t\tconst dropzoneElement = document.getElementById('notes-container');\n\n\t\tdropzoneElement?.addEventListener('dragover', onDragOver);\n\t\tdropzoneElement?.addEventListener('drop', onDrop);\n\t\tdropzoneElement?.addEventListener('dragleave', onDragLeave);\n\t});\n</script>\n\n<svelte:head>\n\t<title>\n\t\t{$i18n.t('Notes')} â€¢ {$WEBUI_NAME}\n\t</title>\n</svelte:head>\n\n<FilesOverlay show={dragged} />\n\n<div id=\"notes-container\" class=\"w-full min-h-full h-full\">\n\t{#if loaded}\n\t\t<DeleteConfirmDialog\n\t\t\tbind:show={showDeleteConfirm}\n\t\t\ttitle={$i18n.t('Delete note?')}\n\t\t\ton:confirm={() => {\n\t\t\t\tdeleteNoteHandler(selectedNote.id);\n\t\t\t\tshowDeleteConfirm = false;\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\" text-sm text-gray-500\">\n\t\t\t\t{$i18n.t('This will delete')} <span class=\"  font-semibold\">{selectedNote.title}</span>.\n\t\t\t</div>\n\t\t</DeleteConfirmDialog>\n\n\t\t<div class=\"px-4.5 @container h-full pt-2\">\n\t\t\t{#if Object.keys(notes).length > 0}\n\t\t\t\t<div class=\"pb-10\">\n\t\t\t\t\t{#each Object.keys(notes) as timeRange}\n\t\t\t\t\t\t<div class=\"w-full text-xs text-gray-500 dark:text-gray-500 font-medium pb-2.5\">\n\t\t\t\t\t\t\t{$i18n.t(timeRange)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"mb-5 gap-2.5 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#each notes[timeRange] as note, idx (note.id)}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\" flex space-x-4 cursor-pointer w-full px-4.5 py-4 bg-gray-50 dark:bg-gray-850 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl transition\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\" flex flex-1 space-x-4 cursor-pointer w-full\">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref={`/notes/${note.id}`}\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full -translate-y-0.5 flex flex-col justify-between\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"  flex items-center gap-2 self-center mb-1 justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" font-semibold line-clamp-1 capitalize\">{note.title}</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NoteMenu\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonDownload={(type) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedNote = note;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdownloadHandler(type);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonDelete={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedNote = note;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirm = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm p-1 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisHorizontal className=\"size-5\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</NoteMenu>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\" text-xs text-gray-500 dark:text-gray-500 mb-3 line-clamp-5 min-h-18\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{#if note.data?.content?.md}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{note.data?.content?.md}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('No content')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" text-xs px-0.5 w-full flex justify-between items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{dayjs(note.updated_at / 1000000).fromNow()}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent={note?.user?.email ?? $i18n.t('Deleted User')}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex shrink-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"shrink-0 text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('By {{name}}', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: capitalizeFirstLetter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnote?.user?.name ?? note?.user?.email ?? $i18n.t('Deleted User')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t\t<div class=\"w-full h-full flex flex-col items-center justify-center\">\n\t\t\t\t\t<div class=\"pb-20 text-center\">\n\t\t\t\t\t\t<div class=\" text-xl font-medium text-gray-400 dark:text-gray-600\">\n\t\t\t\t\t\t\t{$i18n.t('No Notes')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mt-1 text-sm text-gray-300 dark:text-gray-700\">\n\t\t\t\t\t\t\t{$i18n.t('Create your first note by clicking on the plus button below.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"absolute bottom-0 left-0 right-0 p-5 max-w-full flex justify-end\">\n\t\t\t<div class=\"flex gap-0.5 justify-end w-full\">\n\t\t\t\t<Tooltip content={$i18n.t('Create Note')}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"cursor-pointer p-2.5 flex rounded-full border border-gray-50 bg-white dark:border-none dark:bg-gray-850 hover:bg-gray-50 dark:hover:bg-gray-800 transition shadow-xl\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\tcreateNoteHandler();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Plus className=\"size-4.5\" strokeWidth=\"2.5\" />\n\t\t\t\t\t</button>\n\t\t\t\t</Tooltip>\n\n\t\t\t\t<!-- <button\n\t\t\t\tclass=\"cursor-pointer p-2.5 flex rounded-full hover:bg-gray-100 dark:hover:bg-gray-850 transition shadow-xl\"\n\t\t\t>\n\t\t\t\t<SparklesSolid className=\"size-4\" />\n\t\t\t</button> -->\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- {#if $user?.role === 'admin'}\n\t\t<div class=\" flex justify-end w-full mb-3\">\n\t\t\t<div class=\"flex space-x-2\">\n\t\t\t\t<input\n\t\t\t\t\tid=\"notes-import-input\"\n\t\t\t\t\tbind:files={importFiles}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\taccept=\".md\"\n\t\t\t\t\thidden\n\t\t\t\t\ton:change={() => {\n\t\t\t\t\t\tconsole.log(importFiles);\n\n\t\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\t\treader.onload = async (event) => {\n\t\t\t\t\t\t\tconsole.log(event.target.result);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treader.readAsText(importFiles[0]);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tconst notesImportInputElement = document.getElementById('notes-import-input');\n\t\t\t\t\t\tif (notesImportInputElement) {\n\t\t\t\t\t\t\tnotesImportInputElement.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">{$i18n.t('Import Notes')}</div>\n\n\t\t\t\t\t<div class=\" self-center\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t{/if} -->\n\t{:else}\n\t\t<div class=\"w-full h-full flex justify-center items-center\">\n\t\t\t<Spinner />\n\t\t</div>\n\t{/if}\n</div>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYC,QAAM,OAAO,QAAQ;AACrB,QAAM,OAAO,YAAY;iBAEV,WAAW,SAAA;eACd,UAAU,SAAA;;AAEnB,cAAM,OAAO,MAAM;;MAEX,SAAA,OAAA;AACR,gBAAQ,MAAA,0BAAgC,MAAM,MAAM,KAAK;AAAA;;;AA0BtD,QAAA,OAAO,WAAW,MAAM;;AAWxB,QAAA,OAAA,YAAA;AACS,UAAA,SAAS,aAAa,KAAK;AAAA;QA+GpC,oBAA2B,OAAA,eAAA;eAGrB,QAAQ,YAAA;AACd,UAAA,KAAK,SAAS,iBAAA;AACjB,cAAM,MAAM,MAAM,EAAE,iCAAiC,CAAA;;;YAIhD,SAAa,IAAA;AACnB,aAAO,SAAgB,OAAA,UAAA;AAChB,cAAA,UAAU,MAAM,OAAO;AACzB,YAAA,OAAO,KAAK,KAAK,QAAQ,SAAS,EAAE;mBAE7B,YAAY,UAAA;AACtB,gBAAM,MAAM,MAAM,EAAE,sBAAsB,CAAA;;;AAKrC,cAAA,MAAA,MAAY,cAAc,aAAa,OAAA;AAAA,UAC5C,OAAO;AAAA,UACP,MAAA;AAAA,YACC,SAAA;AAAA,cACC,MAAM;AAAA,cACN,MAAM,OAAO,MAAM,WAAW,EAAE;AAAA,cAChC,IAAI;AAAA;;UAGN,MAAM;AAAA,UACN,gBAAgB;AAAA,WACd,MAAO,WAAA;AACT,gBAAM,SAAS,KAAK,EAAA;AACb,iBAAA;AAAA;AAGJ,YAAA,KAAA;AACH;;;AAIF,aAAO,WAAW,IAAI;AAAA;;MAIpB,UAAU;QAER,aAAc,OAAA;AACnB,MAAE,eAAA;QAGE,EAAE,cAAc,OAAO,SAAS,OAAO,GAAA;AAC1C,gBAAU;AAAA;AAEV,gBAAU;AAAA;;AAIN,QAAA,cAAA,MAAA;AACL,cAAU;AAAA;QAGL,SAAgB,OAAA,MAAA;AACrB,MAAE,eAAA;AACF,YAAQ,IAAI,CAAC;AAET,QAAA,EAAE,cAAc,OAAA;AACb,YAAA,aAAa,MAAM,KAAK,EAAE,cAAc,KAAK;AAC/C,UAAA,cAAc,WAAW,SAAS,GAAA;AACrC,gBAAQ,IAAI,UAAU;AACtB,0BAAkB,UAAU;AAAA;;AAI9B,cAAU;AAAA;AAGX,YAAA,MAAA;AACC,YAAQ,IAAI,SAAS;UACf,kBAAkB,SAAS,eAAe,iBAAiB;AAE7D,QAAA,iBAAA;AACH,uBAAiB,oBAAoB,YAAY,UAAU;AAC3D,uBAAiB,oBAAoB,QAAQ,MAAM;AACnD,uBAAiB,oBAAoB,aAAa,WAAW;AAAA;;;;;;;;;AAnO5D,iBAAW,MAAM,SAAS;AAAA;6GAqP3B,MAAM,EAAE,OAAO,eAAM,WAAW,CAAA,aAAA,EAAA,oCAAA,EAAA,IAAA,mBAAA,cAAA,cAAA,EAAA,SAAA,UAAA,EAAA,MAIf,QAAO,GAAA,CAAA,GAAA,EAAA,CAAA;;;;;;;;;"}